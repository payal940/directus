(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0da511"],{"6aa1":function(n,e,t){"use strict";t.r(e),e["default"]="# Custom Migrations\n\nDirectus allows you to plug in your own custom migration files that will run whenever the\n`directus database migrate:*` commands are used.\n\nAll migrations have to reside in the extensions/migrations folder\n\n## File Name\n\nThe file name follows the following structure:\n\n```\n[identifier]-[name].js\n```\n\nfor example:\n\n```\n20201202A-my-custom-migration.js\n```\n\n## Structure\n\nMigrations have to export an `up` and a `down` function. These functions get a\n[Knex](http://knexjs.org) instance that can be used to do virtually whatever.\n\n```js\nmodule.exports = {\n\tasync up(knex) {\n\t\tawait knex.schema.createTable('test', (table) => {\n\t\t\ttable.increments();\n\t\t\ttable.string('rijk');\n\t\t});\n\t},\n\n\tasync down(knex) {\n\t\tawait knex.schema.dropTable('test');\n\t},\n};\n```\n\n\x3c!-- prettier-ignore-start --\x3e\n::: danger\nSeeing that these migrations are a bit of a free-for-all, you can really harm your database. Please make sure you know what you're doing and backup your database before adding these migrations.\n:::\n\x3c!-- prettier-ignore-end --\x3e\n"}}]);